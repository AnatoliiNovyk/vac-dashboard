# Audit & Plan: Employee Statuses

## Висновки аудиту

Поточна версія програми не містить логіки для визначення **статусу співробітника** ("На роботі", "У відпустці", "Заплановано"). Система оперує лише статусами *заявок на відпустку* ("В очікуванні", "Затверджено", "Відхилено").

Для реалізації нової функціональності потрібно:
1.  Створити функцію, яка буде обчислювати статус співробітника на основі його затверджених відпусток та поточної дати.
2.  Інтегрувати цю логіку в UI, додавши нову колонку до таблиці заявок.

## План наступних кроків

1.  **Створити функцію `getEmployeeStatus(employeeId)`:**
    - Функція прийматиме `employeeId` як аргумент.
    - Вона отримуватиме поточну дату (з часом 00:00:00 для коректних порівнянь).
    - Вона буде фільтрувати `appData.vacation_requests` для пошуку всіх **затверджених** відпусток для даного співробітника.
    - Логіка визначення статусу буде наступною (за пріоритетом):
        1.  Якщо поточна дата потрапляє в діапазон `[start_date, end_date]` будь-якої затвердженої відпустки, статус — **"У відпустці"**.
        2.  Якщо активної відпустки немає, але є затверджені відпустки з `start_date` у майбутньому, статус — **"Заплановано"**.
        3.  В іншому випадку, статус — **"На роботі"**.

2.  **Оновити UI:**
    - В `index.html` додати нову колонку "Статус співробітника" до заголовку таблиці.
    - В `app.js` у функції `updateTable()` додати логіку для відображення цієї колонки.
    - Для кожного рядка таблиці викликати `getEmployeeStatus()` і вставляти результат у нову комірку.
    - Додати CSS-класи для візуального розрізнення статусів (наприклад, кольорові індикатори).

3.  **Тест-кейси:**
    - **Активна відпустка:** Співробітник має затверджену відпустку, яка включає сьогоднішній день. → **Очікуваний результат:** "У відпустці".
    - **Майбутня відпустка:** Співробітник не має активної відпустки, але є затверджена відпустка в майбутньому. → **Очікуваний результат:** "Заплановано".
    - **Немає відпусток:** Співробітник не має ані активних, ані майбутніх затверджених відпусток. → **Очікуваний результат:** "На роботі".

Зміни до коду на цьому етапі не вносяться. План буде реалізовано на наступному кроці.
