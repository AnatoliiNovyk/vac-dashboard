<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vacation Dashboard - Система управління періодами відпусток</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="header-title">
                    <i class="fas fa-calendar-alt"></i>
                    Vacation Dashboard
                </h1>
                <div class="role-selector">
                    <label for="userRole" class="form-label">Оберіть роль:</label>
                    <select id="userRole" class="form-control">
                        <option value="">-- Оберіть роль --</option>
                        <option value="hr">HR</option>
                        <option value="manager">Менеджер</option>
                        <option value="employee">Співробітник</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Welcome Screen -->
            <div id="welcome-screen" class="welcome-screen">
                <div class="welcome-card">
                    <i class="fas fa-users welcome-icon"></i>
                    <h2>Ласкаво просимо до системи управління періодами відпусток</h2>
                    <p>Оберіть вашу роль для доступу до відповідного дашборду</p>
                </div>
            </div>

            <!-- Dashboard Container -->
            <div id="dashboard-container" class="dashboard-container hidden">
                <!-- User Info -->
                <div class="user-info-bar">
                    <div class="user-info">
                        <i class="fas fa-user-circle"></i>
                        <span id="current-user-name">Користувач</span>
                        <span id="current-user-role" class="user-role-badge">Роль</span>
                    </div>
                    <div class="user-stats">
                        <div class="stat-item">
                            <span class="stat-label">Загалом днів:</span>
                            <span id="total-days" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Використано:</span>
                            <span id="used-days" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Залишилось:</span>
                            <span id="remaining-days" class="stat-value">0</span>
                        </div>
                    </div>
                </div>

                <!-- Navigation Tabs -->
                <nav class="tabs-nav" id="tabs-nav">
                    <!-- Tabs will be populated dynamically -->
                </nav>

                <!-- Tab Content -->
                <div class="tab-content">
                    <!-- Filters -->
                    <div class="filters-section" id="filters-section">
                        <div class="filters-grid">
                            <div id="department-filter-group" class="filter-group">
                                <label class="form-label">Департамент:</label>
                                <select id="department-filter" class="form-control">
                                    <option value="">Всі департаменти</option>
                                </select>
                            </div>
                            <div id="status-filter-group" class="filter-group" style="display: none;">
                                <label class="form-label">Статус співробітника:</label>
                                <select id="status-filter" class="form-control">
                                    <option value="">Всі статуси</option>
                                    <option value="on-leave">У відпустці</option>
                                    <option value="planned">Заплановано</option>
                                    <option value="at-work">На роботі</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <button id="clear-filters" class="btn btn--secondary">
                                    <i class="fas fa-times"></i>
                                    Очистити фільтри
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Content Area -->
                    <div class="content-area" id="content-area">
                        <!-- Calendar View -->
                        <div class="calendar-section">
                            <div class="calendar-header">
                                <h3>Календар періодів відпусток</h3>
                                <div class="calendar-controls">
                                    <button id="prev-month" class="btn btn--outline btn--sm"><i class="fas fa-chevron-left"></i></button>
                                    <span id="current-month-year">Жовтень 2025</span>
                                    <button id="next-month" class="btn btn--outline btn--sm"><i class="fas fa-chevron-right"></i></button>
                                </div>
                            </div>
                            <div class="calendar-grid" id="calendar-grid"></div>
                        </div>

                        <!-- Table View -->
                        <div class="table-section">
                            <div class="table-header">
                                <h3>Список періодів відпусток</h3>
                                <button id="add-vacation-btn" class="btn btn--primary hidden"><i class="fas fa-plus"></i> Запланувати період відпустки</button>
                            </div>
                            <div class="table-container">
                                <table id="vacations-table" class="vacations-table">
                                    <thead></thead>
                                    <tbody id="vacations-table-body"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Analytics Section -->
                    <section id="analytics-section" aria-label="HR Analytics" class="analytics-section hidden">
                        <div class="analytics-grid">
                            <div class="chart-card">
                                <div class="kpi-grid">
                                    <div class="kpi-card"><div class="kpi-value" id="kpi-total-employees">--</div><div class="kpi-label">Всього співробітників</div></div>
                                    <div class="kpi-card"><div class="kpi-value" id="kpi-on-leave">--</div><div class="kpi-label">Зараз у відпустці</div></div>
                                    <div class="kpi-card"><div class="kpi-value" id="kpi-planned-leaves">--</div><div class="kpi-label">Заплановано відпусток</div></div>
                                    <div class="kpi-card"><div class="kpi-value" id="kpi-avg-days-left">--</div><div class="kpi-label">Середній залишок днів</div></div>
                                    <div class="kpi-card"><div class="kpi-value" id="kpi-burn-rate">--</div><div class="kpi-label">Burn Rate</div></div>
                                </div>
                            </div>
                            <div class="chart-card">
                                <h3>Статус співробітників</h3>
                                <div class="chart-container">
                                    <canvas id="employee-status-chart"></canvas>
                                </div>
                            </div>
                            <div class="chart-card">
                                <h3>Використання відпусток за департаментами</h3>
                                <div class="chart-container">
                                    <canvas id="department-leave-chart"></canvas>
                                </div>
                            </div>
                            <div class="chart-card">
                                <h4>Топ-5 співробітників із найбільшою кількістю днів відпустки</h4>
                                <div class="ranking-table-container">
                                    <table id="most-days-table" class="ranking-table"></table>
                                </div>
                            </div>
                            <div class="chart-card">
                                 <h4>Топ-5 співробітників із найменшою кількістю днів відпустки</h4>
                                <div class="ranking-table-container">
                                    <table id="least-days-table" class="ranking-table"></table>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal for new/edit vacation -->
    <div id="vacation-form-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="vacation-form-title">Запланувати період відпустки</h3>
                <button class="modal-close" id="vacation-form-modal-close"><i class="fas fa-times"></i></button>
            </div>
            <form id="vacation-form">
                <input type="hidden" id="vacation-id-input" />
                <div class="modal-body">
                    <div class="form-group" id="employee-select-group">
                        <label for="employee-select" class="form-label">Співробітник</label>
                        <select id="employee-select" class="form-control" required></select>
                    </div>
                    <div class="form-group">
                        <label for="start-date-input" class="form-label">Дата початку</label>
                        <input type="date" id="start-date-input" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="end-date-input" class="form-label">Дата закінчення</label>
                        <input type="date" id="end-date-input" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="vacation-days-input" class="form-label">Кількість днів</label>
                        <input type="text" id="vacation-days-input" class="form-control" readonly>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="cancel-vacation-form-btn" class="btn btn--secondary">Скасувати</button>
                    <button type="submit" class="btn btn--primary">Зберегти</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>